(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{22:function(n,e,i){"use strict";i.d(e,"a",(function(){return l}));var t=i(3),s=i(2),r=function(n){function e(e,i){var t=n.call(this,e,i)||this;return t.scheduler=e,t.work=i,t.pending=!1,t}return s.a(e,n),e.prototype.schedule=function(n,e){if(void 0===e&&(e=0),this.closed)return this;this.state=n;var i=this.id,t=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(t,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(t,this.id,e),this},e.prototype.requestAsyncId=function(n,e,i){return void 0===i&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,e){var i=!1,t=void 0;try{this.work(n)}catch(n){i=!0,t=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),t},e.prototype._unsubscribe=function(){var n=this.id,e=this.scheduler,i=e.actions,t=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==t&&i.splice(t,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null},e}(function(n){function e(e,i){return n.call(this)||this}return s.a(e,n),e.prototype.schedule=function(n,e){return void 0===e&&(e=0),this},e}(i(5).a)),o=function(){function n(e,i){void 0===i&&(i=n.now),this.SchedulerAction=e,this.now=i}return n.prototype.schedule=function(n,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,n).schedule(i,e)},n.now=function(){return Date.now()},n}(),c=new(function(n){function e(i,t){void 0===t&&(t=o.now);var s=n.call(this,i,(function(){return e.delegate&&e.delegate!==s?e.delegate.now():t()}))||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return s.a(e,n),e.prototype.schedule=function(i,t,s){return void 0===t&&(t=0),e.delegate&&e.delegate!==this?e.delegate.schedule(i,t,s):n.prototype.schedule.call(this,i,t,s)},e.prototype.flush=function(n){var e=this.actions;if(this.active)e.push(n);else{var i;this.active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}},e}(o))(r),a=i(8);function l(n,e){var i;return void 0===n&&(n=0),void 0===e&&(e=c),i=n,(Object(a.a)(i)||!(i-parseFloat(i)+1>=0)||n<0)&&(n=0),e&&"function"==typeof e.schedule||(e=c),new t.a((function(i){return i.add(e.schedule(d,n,{subscriber:i,counter:0,period:n})),i}))}function d(n){var e=n.subscriber,i=n.counter,t=n.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:t},t)}},28:function(n,e,i){"use strict";i.r(e),i.d(e,"PlayerView",(function(){return r}));var t=i(0),s=i(22);class r extends t.a{constructor(){super(),this.setTemplate('<style>\n    .iconfont {\n        font-size: 1.2rem;\n    }\n\n    .view-content,\n    .view-footbar {\n        background-color: rgba(0, 0, 0, 0.49);\n        position: relative;\n    }\n\n    .music-headbar {\n        background: rgba(253, 253, 253, 0.05);\n        line-height: 2;\n    }\n\n    .music-background {\n        background-size: cover;\n        filter: blur(10px);\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n    .music-disk {\n        margin-top: 5rem;\n        width: 16rem;\n        height: 16rem;\n        background: rgba(253, 253, 253, 0.05);\n    }\n\n    .music-disk.active {\n        animation: loop 20s linear infinite;\n    }\n\n    @keyframes loop {\n        from {\n            transform: rotate(0deg);\n        }\n\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    .music-disk-background {\n        background: url(assets/player/play_disc.png) no-repeat center;\n        background-size: cover;\n    }\n\n    .music-disk-background img {\n        width: 12rem;\n        height: 12rem;\n    }\n\n    .music-needle {\n        overflow: hidden;\n        z-index: 2;\n    }\n\n    .music-needle {\n        height: 10rem;\n        position: absolute;\n        width: 100%;\n    }\n\n    .music-needle img {\n        transform: rotateZ(-30deg);\n        transform-origin: 1.2rem 1.2rem;\n        margin-top: -1.4rem;\n        margin-left: -1.4rem;\n        left: 50%;\n        height: 10rem;\n        position: absolute;\n        transition: transform .5s;\n    }\n\n    .play-icon {\n        border: 1px solid rgb(226, 226, 226);\n        color: rgb(226, 226, 226);\n        width: 3.5rem;\n        height: 3.5rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .play-icon:hover {\n        border: 1px solid white;\n        color: white;\n    }\n\n    .play-icon .iconfont {\n        font-size: 1.5rem;\n    }\n\n    .play-icon.play-icon-main {\n        width: 4.5rem;\n        height: 4.5rem;\n    }\n\n    .play-icon.play-icon-main .iconfont {\n        font-size: 2rem;\n    }\n\n    .play-menu .iconfont {\n        font-size: 2rem;\n        color: rgb(190, 190, 190);\n    }\n\n    .play-menu .iconfont:hover {\n        color: white;\n    }\n\n    .view-footbar {\n        box-shadow: none;\n        min-height: 6rem;\n        justify-content: center;\n    }\n\n    .progress {\n        height: 0.1rem;\n        background: rgba(255, 255, 255, 0.3);\n    }\n\n    .progress-bar {\n        height: 100%;\n        background: red;\n        position: relative;\n        transition: width .3s;\n    }\n\n    .progress-bar::after {\n        content: \'\';\n        background: red;\n        color: red;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 6px;\n        width: 6px;\n        position: absolute;\n        right: 0;\n        top: -6px;\n        border-radius: 50%;\n        border: 6px solid white;\n    }\n\n    .play-progress {\n        position: absolute;\n        width: 100%;\n        bottom: 0;\n    }\n\n    .popup-content {\n        border-top-left-radius: 0.5rem;\n        border-top-right-radius: 0.5rem;\n    }\n\n    .popup-title {\n        border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    }\n\n    .playlist-item {\n        line-height: 3rem;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    }\n</style>\n<div class="view">\n    <div class="view-content">\n        <div class="music-headbar text-white flex-between p-2 text-truncate">\n            <a onclick="window.history.back()" class="iconfont icon-i-back text-white"></a>\n            <div>\n                <div class="__name__">歌曲名称</div>\n                <div class="font-size-sm text-muted __author__">作者</div>\n            </div>\n            <div></div>\n        </div>\n        <div class="music-needle">\n            <img id="musicNeedle" src="assets/player/play_needle.png">\n        </div>\n        <div class="flex-center">\n            <div id="musicDisk" class="music-disk circle p-1">\n                <div class="music-disk-background img-circle flex-center align-items-center w-100 h-100">\n                    \x3c!-- 歌曲封面 --\x3e\n                    <img class="img-circle __picUrl__" src="assets/player/placeholder_disk_play_song.png">\n                </div>\n            </div>\n        </div>\n        <div class="play-progress flex-around align-items-center">\n            <div class="text-white m-4">00:00</div>\n            <div class="progress flex-grow-1">\n                <div id="musicBar" class="progress-bar" style="width:0%;"></div>\n            </div>\n            <div class="text-white m-4">03:28</div>\n        </div>\n    </div>\n    <div class="view-footbar align-items-center">\n        <div class="play-menu">\n            <i class="iconfont icon-icon_loop"></i>\n        </div>\n        <div class="play-icon circle ml-4">\n            <i class="iconfont icon-preview __pre__"></i>\n        </div>\n        <div id="btnPlay" class="play-icon circle play-icon-main ml-4 mr-4">\n            <i class="iconfont icon-start"></i>\n        </div>\n        <div class="play-icon circle mr-4 __next__">\n            <i class="iconfont icon-next"></i>\n        </div>\n        <div class="play-menu __menu__">\n            <i class="iconfont icon-category"></i>\n        </div>\n    </div>\n</div>')}initView(){this.setClick("btnPlay",()=>{this.addStyleClass("musicDisk","active"),this.setStyleAttr("musicNeedle","transform","rotateZ(0deg)")}),Object(s.a)(1e3).subscribe(n=>{console.log(n),this.setStyleAttr("musicBar","width",n+++"%")})}}}}]);